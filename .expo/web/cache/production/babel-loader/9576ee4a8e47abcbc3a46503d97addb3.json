{"ast":null,"code":"import _taggedTemplateLiteralLoose from\"@babel/runtime/helpers/taggedTemplateLiteralLoose\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function _templateObject3(){var data=_taggedTemplateLiteralLoose([\"\\n  color: \\\"rgb(29, 25, 204)\\\";\\n  fontSize : 20;\\n  marginTop : \",\";\\n  marginBottom : \",\";\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteralLoose([\"\\n  flexDirection: row;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteralLoose([\"\\n  display : \",\"\\n  width: \",\";\\n  backgroundColor: white;\\n  paddingStart: 30;\\n  paddingEnd 30;\\n  paddingTop: 30;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from\"react\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import Image from\"react-native-web/dist/exports/Image\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import styled from\"styled-components\";import{SettingApp}from\"../appConfig\";var BusStopDetail=function(_React$Component){_inherits(BusStopDetail,_React$Component);function BusStopDetail(){var _getPrototypeOf2;var _this;_classCallCheck(this,BusStopDetail);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(BusStopDetail)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={show:false,busStop:[]};_this.fetchData=function _callee(){var response,busStop;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(_this.setState({busStop:[]}));case 2:_context.next=4;return _regeneratorRuntime.awrap(fetch(SettingApp+\"/busStop?busline_name=\"+_this.props.data.busline_name));case 4:response=_context.sent;_context.next=7;return _regeneratorRuntime.awrap(response.json());case 7:busStop=_context.sent;_context.next=10;return _regeneratorRuntime.awrap(_this.setState({busStop:busStop}));case 10:case\"end\":return _context.stop();}}});};_this.componentDidMount=function _callee2(){return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(_this.fetchData());case 2:case\"end\":return _context2.stop();}}});};_this.componentWillReceiveProps=function _callee3(){return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(_this.fetchData());case 2:case\"end\":return _context3.stop();}}});};return _this;}_createClass(BusStopDetail,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(View,null,React.createElement(TouchableOpacity,{style:styles.ViewFlex,onPress:function onPress(){return _this2.props.openDetail(_this2.props.data.busline_code);},id:this.props.data.busline_code},React.createElement(Image,{source:require(\"../assets/icon/bus.png\"),style:{width:50,height:50,marginEnd:20}}),React.createElement(View,null,React.createElement(Text,{style:{fontSize:30,color:'white'}},\"\\u0E2A\\u0E32\\u0E22 \",this.props.data.busline_name),React.createElement(Text,{style:{fontSize:15,color:'grey'}},this.props.data.busline_detail))),React.createElement(Container,{show:this.props.show},this.state.busStop.map(function(item,key){return React.createElement(Flex,{key:key},React.createElement(Image,{source:key==0?require(\"../assets/icon/lineCircleStart.png\"):key==_this2.state.busStop.length-1?require(\"../assets/icon/lineCircleEnd.png\"):require(\"../assets/icon/lineCircle.png\"),style:{marginEnd:10}}),React.createElement(TextIcon,{numberOfLines:1,marginTop:key==0?0:20,marginBottom:key==_this2.state.busStop.length-1?50:0},item.busstop_name));})));}}]);return BusStopDetail;}(React.Component);export{BusStopDetail as default};var width=Dimensions.get(\"window\").width;var styles=StyleSheet.create({ViewFlex:{width:width-70,flexDirection:\"row\",paddingTop:20,paddingBottom:20,marginStart:30,marginEnd:30,justifyContent:\"flex-start\",alignItems:\"center\",borderBottomWidth:1,borderBottomColor:'rgba(255,255,255,0.5)'}});var Container=styled(ScrollView)(_templateObject(),function(props){return props.show?'flex':'none';},width);var Flex=styled(View)(_templateObject2());var TextIcon=styled(Text)(_templateObject3(),function(props){return props.marginTop;},function(props){return props.marginBottom;});","map":{"version":3,"sources":["/Users/thanutpond/Desktop/whereApp/components/BusStopDetail.js"],"names":["React","styled","SettingApp","BusStopDetail","state","show","busStop","fetchData","setState","fetch","props","data","busline_name","response","json","componentDidMount","componentWillReceiveProps","styles","ViewFlex","openDetail","busline_code","require","width","height","marginEnd","fontSize","color","busline_detail","map","item","key","length","busstop_name","Component","Dimensions","get","StyleSheet","create","flexDirection","paddingTop","paddingBottom","marginStart","justifyContent","alignItems","borderBottomWidth","borderBottomColor","Container","ScrollView","Flex","View","TextIcon","Text","marginTop","marginBottom"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {\n  Text,\n  TouchableOpacity,\n  View,\n  ScrollView,\n  Dimensions,\n  Image,\n  StyleSheet,\n} from \"react-native\"\nimport styled from \"styled-components\"\nimport {SettingApp} from '../appConfig';\n\nexport default class BusStopDetail extends React.Component {\n  state = {\n    show: false,\n    busStop : []\n  }\n\n\n  fetchData = async () => {\n    await this.setState({ busStop : [] })\n    const response = await fetch(`${SettingApp}/busStop?busline_name=${this.props.data.busline_name}`)\n    const busStop = await response.json()\n    // console.log(\"busStop :::: \", busStop)\n    await this.setState({ busStop })\n  }\n\n  componentDidMount = async () => {\n    await this.fetchData()\n  }\n\n  componentWillReceiveProps = async () => {\n    await this.fetchData()\n  }\n\n  render() {\n    return (\n\n      <View >\n      <TouchableOpacity style={styles.ViewFlex} onPress={() => this.props.openDetail(this.props.data.busline_code)} id={this.props.data.busline_code}  >\n        <Image\n          source={require(\"../assets/icon/bus.png\")}\n          style={{ width: 50, height: 50, marginEnd : 20  }}\n        />\n        <View>\n          <Text style={{fontSize:30, color : 'white'}}>สาย {this.props.data.busline_name}</Text>\n          <Text  style={{fontSize:15, color : 'grey'}}>{this.props.data.busline_detail}</Text>\n        </View>\n      </TouchableOpacity>\n\n      <Container show={this.props.show}>\n        {this.state.busStop.map((item, key) => (\n          <Flex key={key}>\n            <Image\n              source={\n                key == 0\n                  ? require(\"../assets/icon/lineCircleStart.png\")\n                  : key == this.state.busStop.length - 1\n                  ? require(\"../assets/icon/lineCircleEnd.png\")\n                  : require(\"../assets/icon/lineCircle.png\")\n              }\n              style={{ marginEnd: 10 }}\n            />\n\n            <TextIcon\n              numberOfLines={1}\n              marginTop={key == 0 ? 0 : 20}\n              marginBottom={key == this.state.busStop.length - 1 ? 50 : 0}\n            >\n              {item.busstop_name}\n            </TextIcon>\n          </Flex>\n        ))}\n      </Container>\n    </View >\n\n\n\n      \n    )\n  }\n}\n\nlet width = Dimensions.get(\"window\").width\n\n\nconst styles = StyleSheet.create({\n  ViewFlex: {\n    width : width-70,\n    flexDirection: \"row\",\n    paddingTop : 20,\n    paddingBottom : 20,\n    marginStart :30,\n    marginEnd : 30,\n    justifyContent: \"flex-start\",\n    alignItems: \"center\",\n    borderBottomWidth : 1,\n    borderBottomColor : 'rgba(255,255,255,0.5)',\n  },\n})\n\n\n\nconst Container = styled(ScrollView)`\n  display : ${props => props.show ? 'flex' : 'none' }\n  width: ${width};\n  backgroundColor: white;\n  paddingStart: 30;\n  paddingEnd 30;\n  paddingTop: 30;\n`\nconst Flex = styled(View)`\n  flexDirection: row;\n`\n\nconst TextIcon = styled(Text)`\n  color: \"rgb(29, 25, 204)\";\n  fontSize : 20;\n  marginTop : ${props => props.marginTop};\n  marginBottom : ${props => props.marginBottom};\n`\n"]},"metadata":{},"sourceType":"module"}